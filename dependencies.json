{
    "system_dependencies": {
        "nginx": {
            "check": "command -v nginx",
            "install": "apt-get install -y nginx && sudo systemctl enable nginx && sudo systemctl start nginx",
            "description": "Web server for hosting websites"
        },
        "exim4": {
            "check": "command -v exim4",
            "install": "apt-get install -y exim4 exim4-daemon-heavy && sudo systemctl enable exim4 && sudo systemctl start exim4",
            "description": "SMTP server for sending emails"
        },
        "dovecot": {
            "check": "command -v dovecot",
            "install": "apt-get install -y dovecot-core dovecot-imapd dovecot-pop3d && sudo systemctl enable dovecot && sudo systemctl start dovecot",
            "description": "IMAP/POP3 for receiving emails"
        },
        "certbot": {
            "check": "command -v certbot",
            "install": "apt-get install -y certbot python3-certbot-nginx",
            "description": "Let's Encrypt SSL certificates"
        },
        "php8.3-fpm": {
            "check": "dpkg -l | grep -q php8.3-fpm",
            "install": "add-apt-repository -y ppa:ondrej/php && sudo apt-get update && sudo apt-get install -y php8.3-fpm php8.3-mysql php8.3-curl php8.3-gd php8.3-mbstring php8.3-xml php8.3-zip && sudo systemctl enable php8.3-fpm && sudo systemctl start php8.3-fpm",
            "description": "PHP 8.3 FastCGI Process Manager"
        },
        "php8.2-fpm": {
            "check": "dpkg -l | grep -q php8.2-fpm",
            "install": "apt-get install -y php8.2-fpm php8.2-mysql php8.2-curl php8.2-gd php8.2-mbstring php8.2-xml php8.2-zip && sudo systemctl enable php8.2-fpm && sudo systemctl start php8.2-fpm",
            "description": "PHP 8.2 FastCGI Process Manager"
        },
        "php8.1-fpm": {
            "check": "dpkg -l | grep -q php8.1-fpm",
            "install": "apt-get install -y php8.1-fpm php8.1-mysql php8.1-curl php8.1-gd php8.1-mbstring php8.1-xml php8.1-zip && sudo systemctl enable php8.1-fpm && sudo systemctl start php8.1-fpm",
            "description": "PHP 8.1 FastCGI Process Manager"
        },
        "composer": {
            "check": "command -v composer",
            "install": "curl -sS https://getcomposer.org/installer | sudo php -- --install-dir=/usr/local/bin --filename=composer",
            "description": "PHP dependency manager"
        },
        "roundcube": {
            "check": "dpkg -l | grep -q roundcube-core",
            "install": "env DEBIAN_FRONTEND=noninteractive apt-get install -y roundcube roundcube-core roundcube-mysql roundcube-plugins",
            "description": "Webmail interface"
        },
        "phpmyadmin": {
            "check": "test -d /usr/share/phpmyadmin",
            "install": "env DEBIAN_FRONTEND=noninteractive apt-get install -y phpmyadmin",
            "description": "Database management interface"
        },
        "wp-cli": {
            "check": "command -v wp",
            "install": "curl -O https://raw.githubusercontent.com/wp-cli/builds/gh-pages/phar/wp-cli.phar && chmod +x wp-cli.phar && sudo mv wp-cli.phar /usr/local/bin/wp",
            "description": "WordPress command-line tool"
        },
        "clamav": {
            "check": "command -v clamscan",
            "install": "apt-get install -y clamav clamav-daemon && sudo systemctl stop clamav-freshclam && sudo freshclam && sudo systemctl start clamav-freshclam && sudo systemctl enable clamav-daemon && sudo systemctl start clamav-daemon",
            "description": "Antivirus and malware scanner"
        },
        "fail2ban": {
            "check": "command -v fail2ban-client",
            "install": "apt-get install -y fail2ban && sudo systemctl enable fail2ban && sudo systemctl start fail2ban",
            "description": "Intrusion prevention system"
        },
        "ufw": {
            "check": "command -v ufw",
            "install": "apt-get install -y ufw && sudo ufw default deny incoming && sudo ufw default allow outgoing && sudo ufw allow ssh && sudo ufw allow http && sudo ufw allow https && echo 'y' | sudo ufw enable",
            "description": "Uncomplicated Firewall"
        },
        "modsecurity": {
            "check": "dpkg -l | grep -q libnginx-mod-http-modsecurity",
            "install": "apt-get install -y libnginx-mod-http-modsecurity",
            "description": "Web Application Firewall for Nginx"
        },
        "gpg": {
            "check": "command -v gpg",
            "install": "apt-get install -y gnupg",
            "description": "GPG encryption for backups"
        }
    },
    "core_dependencies": {
        "python3": {
            "check": "command -v python3",
            "install": "apt-get install -y python3 python3-dev python3-pip python3-venv",
            "description": "Python 3 runtime"
        },
        "redis-server": {
            "check": "command -v redis-server",
            "install": "apt-get install -y redis-server && sudo systemctl enable redis-server && sudo systemctl start redis-server",
            "description": "In-memory data store"
        },
        "mariadb": {
            "check": "command -v mysql",
            "install": "apt-get install -y mariadb-server mariadb-client && sudo systemctl enable mariadb && sudo systemctl start mariadb",
            "description": "MySQL-compatible database"
        },
        "nodejs": {
            "check": "command -v node",
            "install": "curl -fsSL https://deb.nodesource.com/setup_18.x | sudo bash - && sudo apt-get install -y nodejs",
            "description": "JavaScript runtime"
        },
        "yarn": {
            "check": "command -v yarn",
            "install": "npm install -g yarn",
            "description": "Package manager for Node.js"
        }
    }
}